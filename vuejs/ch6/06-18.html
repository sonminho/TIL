<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>06-1</title>
    <script src="https://unpkg.com/vue@2.5.16/dist/vue.js"></script>
</head>
<style>
    .buttonstyle { width: 120px; height: 30px; text-align: center;}
</style>
<!-- 하위 컴포넌트 -->
<template id="childTemplate">
    <div>
        <button class="buttonstyle" v-on:click="clickEvent" v-bind:data-lang="buttonInfo.value">
            {{buttonInfo.text}}
        </button>
    </div>
</template>

<script type="text/javascript">
Vue.component('child-component', {
    template: "#childTemplate",
    props: ['buttonInfo'],
    methods: {
        clickEvent: function(e) {
            this.$emit('timeclick', e.target.innerText, e.target.dataset.lang);
        }
    }
})
</script>
<!-- 하위 컴포넌트 끝 -->

<!-- 상위 컴포넌트 -->
<template id="parent-template">
    <div>
        <child-component v-for="btn in buttons" 
            v-bind:button-info="btn"
            v-on:timeclick="timeclickEvent">
        </child-component>
        <hr/>
        <div>{{msg}}</div>
    </div>
</template>
<script type="text/javascript">
Vue.component('parent-component', {
    template: '#parent-template',
    props: [ 'buttons' ],
    data: function() { return {msg:""} },
    methods: {
        timeclickEvent: function(k, v) {
            this.msg = k + ", " + v;
        }
    }
})
</script>
<!-- 상위 컴포넌트 끝 -->

<body>
    <div id="app">
        <parent-component v-bind:buttons="buttons"></parent-component>
    </div>
</body>
<script type="text/javascript">
new Vue({
    el: '#app',
    data: {
        buttons: [
            { text: "Hello", value: "영어" },
            { text: "신짜오", value: "베트남어" },
            { text: "니하오", value: "중국어" },
            { text: "봉쥬르", value: "불어"}
        ]
    }
});
</script>
</html>